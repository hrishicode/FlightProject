{"remainingRequest":"C:\\FlightProject\\flight-search\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\FlightProject\\flight-search\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\FlightProject\\flight-search\\src\\views\\Home.vue","mtime":1625829846029},{"path":"C:\\FlightProject\\flight-search\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\FlightProject\\flight-search\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\FlightProject\\flight-search\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\FlightProject\\flight-search\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicKaW1wb3J0IEZsaWdodEFwaSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvRmxpZ2h0QXBpJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFpcnBvcnROYW1lczogW10sCiAgICAgIGlzRXJyb3I6IGZhbHNlLAogICAgICBmb3JtVmFsaWRhdGVkOiBmYWxzZSwKICAgICAgc2VhcmNoT3B0aW9uczogewogICAgICAgIGlzUmV0dXJuRmxpZ2h0TmVlZGVkOiBmYWxzZSwKICAgICAgICBzZWxlY3RlZFNvdXJjZTogbnVsbCwKICAgICAgICBzZWxlY3RlZERlc3RpbmF0aW9uOiBudWxsLAogICAgICAgIGRlcGFydHVyZURhdGU6IG51bGwsCiAgICAgICAgcmV0dXJuRGF0ZTogbnVsbCwKICAgICAgICBwYXNzZW5nZXJzQ291bnQ6IHsKICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgYWR1bHRzOiAwLAogICAgICAgICAgaW5mYW50OiAwLAogICAgICAgICAgY2hpbGRyZW46IDAKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGV2ZW50IHRvIGhhbmRsZSBzd2l0Y2ggdG9nZ2xlIGZvciBvbmUgd2F5IGFuZCByZXR1cm4gZmxpZ2h0CiAgICBjaGFuZ2UgKGV2ZW50KSB7CiAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgIHRoaXMuc2VhcmNoT3B0aW9ucy5pc1JldHVybkZsaWdodE5lZWRlZCA9IG9wdGlvblZhbHVlID09PSAnMicKICAgIH0sCiAgICBvblNvdXJjZUNoYW5nZSAoZXZlbnQpIHsKICAgICAgdGhpcy5zZWFyY2hPcHRpb25zLnNlbGVjdGVkU291cmNlID0gZXZlbnQudGFyZ2V0LnZhbHVlCiAgICB9LAogICAgb25EZXN0Q2hhbmdlIChldmVudCkgewogICAgICB0aGlzLnNlYXJjaE9wdGlvbnMuc2VsZWN0ZWREZXN0aW5hdGlvbiA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgfSwKICAgIC8vIFBvcHVsYXRpbmcgYWlycG9ydCBuYW1lcyBhbmQgY29kZQogICAgcG9wdWxhdGVBaXJwb3J0TmFtZXMgKGFpcnBvcnRzKSB7CiAgICAgIGFpcnBvcnRzLmZvckVhY2goKGFpcnBvcnRJdGVtKSA9PiB7CiAgICAgICAgdGhpcy5haXJwb3J0TmFtZXMucHVzaChhaXJwb3J0SXRlbS5uYW1lICsgJyAoJyArIGFpcnBvcnRJdGVtLmNvZGUgKyAnKScpCiAgICAgICAgYWlycG9ydEl0ZW0uY29ubmVjdGlvbnMuZm9yRWFjaCgoY29ubmVjdGlvbkl0ZW0pID0+IHsKICAgICAgICAgIHRoaXMuYWlycG9ydE5hbWVzLnB1c2goY29ubmVjdGlvbkl0ZW0ubmFtZSArICcgKCcgKyBjb25uZWN0aW9uSXRlbS5jb2RlICsgJyknKQogICAgICAgIH0pCiAgICAgIH0pCiAgICAgIHRoaXMuYWlycG9ydE5hbWVzID0gWy4uLm5ldyBTZXQodGhpcy5haXJwb3J0TmFtZXMpXQogICAgfSwKICAgIC8vIGFwcGx5aW5nIGluaXRpYWwgdmFsaWRhdGlvbiBmb3IgcmVxdWlyZWQgZmllbGRzCiAgICBjaGVja1ZhbGlkYXRpb24gKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hPcHRpb25zLnNlbGVjdGVkU291cmNlICE9IG51bGwgJiYgISF0aGlzLnNlYXJjaE9wdGlvbnMuc2VsZWN0ZWREZXN0aW5hdGlvbiAmJgogICAgICB0aGlzLnNlYXJjaE9wdGlvbnMuZGVwYXJ0dXJlRGF0ZSAhPSBudWxsICYmIHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQudG90YWwgPiAwKSB7CiAgICAgICAgaWYgKHRoaXMuc2VhcmNoT3B0aW9ucy5pc1JldHVybkZsaWdodE5lZWRlZCkgewogICAgICAgICAgaWYgKHRoaXMuc2VhcmNoT3B0aW9ucy5yZXR1cm5EYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgLy8gVGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIFNlYXJjaCBidXR0b24gY2xpY2sKICAgIHNob3dSZXN1bHQgKCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZWQgPSB0aGlzLmNoZWNrVmFsaWRhdGlvbigpCiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZWQpIHsKICAgICAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZQogICAgICAgIHJvdXRlci5wdXNoKHsgbmFtZTogJ0ZsaWdodFJlc3VsdHMnLCBwYXJhbXM6IHsgc2VhcmNoT3B0aW9uczogdGhpcy5zZWFyY2hPcHRpb25zIH0gfSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICAvLyBUaGlzIG1ldGhvZCBpcyBtZWFudCB0byBkZWNyZW1lbnQgcGFzc2VuZ2VyIGNvdW50CiAgICBkZWNyZW1lbnQgKHBhc3NlbmdlclR5cGUpIHsKICAgICAgaWYgKHBhc3NlbmdlclR5cGUgPT09ICdhZHVsdCcgJiYgdGhpcy5zZWFyY2hPcHRpb25zLnBhc3NlbmdlcnNDb3VudC5hZHVsdHMgPiAwKSB7CiAgICAgICAgdGhpcy5zZWFyY2hPcHRpb25zLnBhc3NlbmdlcnNDb3VudC5hZHVsdHMtLQogICAgICB9CiAgICAgIGlmIChwYXNzZW5nZXJUeXBlID09PSAnY2hpbGRyZW4nICYmIHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQuY2hpbGRyZW4gPiAwKSB7CiAgICAgICAgdGhpcy5zZWFyY2hPcHRpb25zLnBhc3NlbmdlcnNDb3VudC5jaGlsZHJlbi0tCiAgICAgIH0KICAgICAgaWYgKHBhc3NlbmdlclR5cGUgPT09ICdpbmZhbnQnICYmIHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQuaW5mYW50ID4gMCkgewogICAgICAgIHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQuaW5mYW50LS0KICAgICAgfQogICAgICB0aGlzLmNhbGN1bGF0ZVBzc2VuZ2Vyc0NvdW50KCkKICAgIH0sCiAgICAvLyBUaGlzIG1ldGhvZCBpcyBtZWFudCB0byBpbmNyZW1lbnQgcGFzc2VuZ2VyIGNvdW50CiAgICBpbmNyZW1lbnQgKHBhc3NlbmdlclR5cGUpIHsKICAgICAgaWYgKHBhc3NlbmdlclR5cGUgPT09ICdhZHVsdCcpIHsKICAgICAgICB0aGlzLnNlYXJjaE9wdGlvbnMucGFzc2VuZ2Vyc0NvdW50LmFkdWx0cysrCiAgICAgIH0KICAgICAgaWYgKHBhc3NlbmdlclR5cGUgPT09ICdjaGlsZHJlbicpIHsKICAgICAgICB0aGlzLnNlYXJjaE9wdGlvbnMucGFzc2VuZ2Vyc0NvdW50LmNoaWxkcmVuKysKICAgICAgfQogICAgICBpZiAocGFzc2VuZ2VyVHlwZSA9PT0gJ2luZmFudCcpIHsKICAgICAgICB0aGlzLnNlYXJjaE9wdGlvbnMucGFzc2VuZ2Vyc0NvdW50LmluZmFudCsrCiAgICAgIH0KICAgICAgdGhpcy5jYWxjdWxhdGVQc3NlbmdlcnNDb3VudCgpCiAgICB9LAogICAgLy8gQ2FsY3VsYXRpbmcgdG90YWwgbnVtYmVyIG9mIHBhc3NlbmdlcnMgaW5jbHVkaW5nIGFkdWx0cywgY2hpbGRyZW4gYW5kIGluZmFudHMKICAgIGNhbGN1bGF0ZVBzc2VuZ2Vyc0NvdW50ICgpIHsKICAgICAgdGhpcy5zZWFyY2hPcHRpb25zLnBhc3NlbmdlcnNDb3VudC50b3RhbCA9IHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQuaW5mYW50ICsKICAgICAgdGhpcy5zZWFyY2hPcHRpb25zLnBhc3NlbmdlcnNDb3VudC5jaGlsZHJlbiArIHRoaXMuc2VhcmNoT3B0aW9ucy5wYXNzZW5nZXJzQ291bnQuYWR1bHRzCiAgICB9CiAgfSwKICAvLyBNYWtpbmcgR2V0IHJlcXVlc3QgY2FsbCB0byBnZXQgYWlycG9ydCBuYW1lcyBvbiBDcmVhdGVkIGhvb2sgbWV0aG9kCiAgY3JlYXRlZCAoKSB7CiAgICBGbGlnaHRBcGkuZ2V0QWlycG9ydHMoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICB0aGlzLnBvcHVsYXRlQWlycG9ydE5hbWVzKHJlc3BvbnNlKQogICAgfSkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home-view-container\">\n   <div class=\"home-view-container__row travel-direction\">\n      <label class=\"home-view-container__row-direction\">\n        <input type=\"radio\" name=\"travelmode\" :value=\"1\" checked @change=\"change($event)\" />\n        <span>One-way</span>\n      </label>\n      <label class=\"home-view-container__row-direction\">\n        <input type=\"radio\" name=\"travelmode\" :value=\"2\"\n          @change=\"change($event)\"\n        />\n        <span>Return flight</span>\n      </label>\n\n    </div>\n\n    <div class=\"home-view-container__row\">\n      <p class=\"home-view-container__row-left\">Departure<span class=\"required-message\">*</span>: </p>\n      <p class=\"home-view-container__row-right\"><input type=\"date\" name=\"searchOptions.departureDate\" v-model=\"searchOptions.departureDate\"/></p>\n    </div>\n\n    <div class=\"home-view-container__row\" v-if=\"searchOptions.isReturnFlightNeeded\">\n      <p class=\"home-view-container__row-left\">Return<span class=\"required-message\">*</span>:</p>\n      <p class=\"home-view-container__row-right\"><input type=\"date\" name=\"searchOptions.returnDate\" v-model=\"searchOptions.returnDate\"/></p>\n    </div>\n\n    <div class=\"home-view-container__row\">\n      <p class=\"home-view-container__row-left\">Source<span class=\"required-message\">*</span>:</p>\n      <p class=\"home-view-container__row-right\">\n      <select name=\"source\" @change=\"onSourceChange($event)\">\n          <option>--- Select Source ---</option>\n          <option v-for=\"item in airportNames\" :value=\"item\" :key=\"item\">{{item}}</option>\n      </select>\n      </p>\n    </div>\n\n    <div class=\"home-view-container__row\">\n      <p class=\"home-view-container__row-left\">Destination<span class=\"required-message\">*</span>:</p>\n      <p class=\"home-view-container__row-right\">\n        <select name=\"destination\" @change=\"onDestChange($event)\">\n            <option>--- Select destination ---</option>\n            <option v-for=\"item in airportNames\" :value=\"item\" :key=\"item\">{{item}}</option>\n        </select>\n      </p>\n    </div>\n\n    <div class=\"home-view-container__row\">\n      <p class=\"home-view-container__row-left\"><span class=\"passenger-count-text\">Number of Passengers</span><span class=\"required-message\">*</span>: <span class=\"passenger-total__count\">{{searchOptions.passengersCount.total}}</span></p>\n\n    </div>\n    <div class=\"home-view-container__passenger\">\n      <div class=\"home-view-container__passenger-adults\">\n      <div>Adults</div>\n      <div>\n      <button @click=\"decrement('adult')\">-</button>\n      <input :value=\"searchOptions.passengersCount.adults\" disabled/>\n      <button @click=\"increment('adult')\">+</button>\n      </div>\n    </div>\n\n    <div class=\"home-view-container__passenger-children\">\n      <div>Children</div>\n      <div>\n      <button @click=\"decrement('children')\">-</button>\n      <input :value=\"searchOptions.passengersCount.children\" disabled />\n      <button @click=\"increment('children')\">+</button>\n      </div>\n    </div>\n\n    <div class=\"home-view-container__passenger-infant\">\n      <div>Infant</div>\n        <div>\n          <button @click=\"decrement('infant')\">-</button>\n          <input :value=\"searchOptions.passengersCount.infant\" disabled />\n          <button @click=\"increment('infant')\">+</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"home-view-container__error-message\" v-if=\"isError\">Please select all required fields..</div>\n    <button class=\"search-btn\" @click=\"showResult\">Search</button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport router from '../router'\nimport FlightApi from '../common/services/FlightApi'\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      airportNames: [],\n      isError: false,\n      formValidated: false,\n      searchOptions: {\n        isReturnFlightNeeded: false,\n        selectedSource: null,\n        selectedDestination: null,\n        departureDate: null,\n        returnDate: null,\n        passengersCount: {\n          total: 0,\n          adults: 0,\n          infant: 0,\n          children: 0\n        }\n      }\n    }\n  },\n  components: {\n  },\n  methods: {\n    // event to handle switch toggle for one way and return flight\n    change (event) {\n      const optionValue = event.target.value\n      this.searchOptions.isReturnFlightNeeded = optionValue === '2'\n    },\n    onSourceChange (event) {\n      this.searchOptions.selectedSource = event.target.value\n    },\n    onDestChange (event) {\n      this.searchOptions.selectedDestination = event.target.value\n    },\n    // Populating airport names and code\n    populateAirportNames (airports) {\n      airports.forEach((airportItem) => {\n        this.airportNames.push(airportItem.name + ' (' + airportItem.code + ')')\n        airportItem.connections.forEach((connectionItem) => {\n          this.airportNames.push(connectionItem.name + ' (' + connectionItem.code + ')')\n        })\n      })\n      this.airportNames = [...new Set(this.airportNames)]\n    },\n    // applying initial validation for required fields\n    checkValidation () {\n      if (this.searchOptions.selectedSource != null && !!this.searchOptions.selectedDestination &&\n      this.searchOptions.departureDate != null && this.searchOptions.passengersCount.total > 0) {\n        if (this.searchOptions.isReturnFlightNeeded) {\n          if (this.searchOptions.returnDate != null) {\n            return true\n          }\n        } else {\n          return true\n        }\n      }\n      return false\n    },\n    // This method is called on Search button click\n    showResult () {\n      this.formValidated = this.checkValidation()\n      if (this.formValidated) {\n        this.isError = false\n        router.push({ name: 'FlightResults', params: { searchOptions: this.searchOptions } })\n      } else {\n        this.isError = true\n      }\n    },\n    // This method is meant to decrement passenger count\n    decrement (passengerType) {\n      if (passengerType === 'adult' && this.searchOptions.passengersCount.adults > 0) {\n        this.searchOptions.passengersCount.adults--\n      }\n      if (passengerType === 'children' && this.searchOptions.passengersCount.children > 0) {\n        this.searchOptions.passengersCount.children--\n      }\n      if (passengerType === 'infant' && this.searchOptions.passengersCount.infant > 0) {\n        this.searchOptions.passengersCount.infant--\n      }\n      this.calculatePssengersCount()\n    },\n    // This method is meant to increment passenger count\n    increment (passengerType) {\n      if (passengerType === 'adult') {\n        this.searchOptions.passengersCount.adults++\n      }\n      if (passengerType === 'children') {\n        this.searchOptions.passengersCount.children++\n      }\n      if (passengerType === 'infant') {\n        this.searchOptions.passengersCount.infant++\n      }\n      this.calculatePssengersCount()\n    },\n    // Calculating total number of passengers including adults, children and infants\n    calculatePssengersCount () {\n      this.searchOptions.passengersCount.total = this.searchOptions.passengersCount.infant +\n      this.searchOptions.passengersCount.children + this.searchOptions.passengersCount.adults\n    }\n  },\n  // Making Get request call to get airport names on Created hook method\n  created () {\n    FlightApi.getAirports().then((response) => {\n      this.populateAirportNames(response)\n    }).catch(error => console.log(error))\n  }\n}\n</script>\n"]}]}